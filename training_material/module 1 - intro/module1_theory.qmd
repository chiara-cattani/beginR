---
title: "Module 1 Theory ‚Äî RStudio & Environment Setup"
format: html
editor: visual
---

# üß† Module 1 Theory --- RStudio & Environment Setup

## üéØ Learning Objectives

By the end of this module, you will:

-   Install R and RStudio with proper configuration for clinical programming
-   Set up envconfig for environment and working directory management  
-   Navigate RStudio interface panes and understand R file types
-   Load essential packages (dplyr, haven, tibble) for clinical programming
-   Configure and use GitHub Copilot basics for R programming assistance

------------------------------------------------------------------------

## üì• 1. Installing R and RStudio

### Step 1: Install R
1. Visit [CRAN](https://cran.r-project.org/) and download R for your operating system
2. Install R using default settings
3. Verify installation by opening R console

### Step 2: Install RStudio
1. Visit [RStudio](https://posit.co/download/rstudio-desktop/) and download RStudio Desktop
2. Install RStudio (requires R to be installed first)
3. Launch RStudio to verify both R and RStudio work together

### Step 3: Initial Configuration
- Set CRAN mirror: `Tools ‚Üí Global Options ‚Üí Packages`
- Configure appearance: `Tools ‚Üí Global Options ‚Üí Appearance`
- Set working directory preferences

------------------------------------------------------------------------

## ‚öôÔ∏è 2. Setting Up envconfig

The `envconfig` package helps manage your R environment and working directories for clinical programming projects.

### Installation:
```r
# Install envconfig (replace with actual installation method)
install.packages("envconfig")  # if on CRAN
# or remotes::install_github("org/envconfig")  # if on GitHub
```

### Basic Setup:
```r
library(envconfig)

# Initialize configuration for a new project
envconfig::setup_project("my_clinical_study")

# Set up environment paths
envconfig::configure_paths()
```

------------------------------------------------------------------------

## üß± 3. RStudio Interface Overview

RStudio has four main panes that make R programming efficient:

### üñ•Ô∏è Main Panels:

-   **Script Editor (Top-Left)**: Write R scripts (`.R`) or R Markdown (`.Rmd`) files
-   **Console (Bottom-Left)**: Execute R code and see results immediately
-   **Environment (Top-Right)**: View variables, data objects, and functions in memory
-   **Files/Plots/Packages/Help (Bottom-Right)**: Navigate files, view plots, manage packages, and access help

### üìÅ Important File Types:

-   `.R`: R script files (equivalent to SAS `.sas` program files)
-   `.Rmd`: R Markdown documents (combine code, results, and documentation)
-   `.Rproj`: RStudio project files (organize related files and set working directory)

### üîß Basic RStudio Workflow:
1. Create or open an R script in the Script Editor
2. Write your code 
3. Execute lines using `Ctrl+Enter` (Windows) or `Cmd+Enter` (Mac)
4. View results in Console and Environment pane

------------------------------------------------------------------------

## üì¶ 4. Essential Packages for Clinical Programming

Before diving into clinical programming, let's install and load the essential packages:

```r
# Install essential packages (run once)
install.packages(c("dplyr", "haven", "tibble", "lubridate", "stringr"))

# Load packages (run at start of each session)
library(dplyr)    # Data manipulation
library(haven)    # Read/write SAS, SPSS, Stata files  
library(tibble)   # Enhanced data frames
library(lubridate) # Date/time handling
library(stringr)  # String manipulation
```

### Key Package Functions:

| Package     | Purpose                                    | Key Functions                |
|-------------|--------------------------------------------|-----------------------------|
| `dplyr`     | Data manipulation (like SAS DATA step)    | `filter()`, `select()`, `mutate()` |
| `haven`     | Import/export SAS XPT and SAS7BDAT files  | `read_xpt()`, `write_xpt()` |
| `tibble`    | Enhanced data frames                       | `tibble()`, `as_tibble()`   |
| `lubridate` | Date/time manipulation                     | `ymd()`, `dmy()`, `today()` |
| `stringr`   | String handling                           | `str_detect()`, `str_replace()` |

------------------------------------------------------------------------

## ü§ñ 5. GitHub Copilot in RStudio

### What is GitHub Copilot?

GitHub Copilot is an AI pair programmer that provides intelligent code suggestions as you type, helping you write R code faster and more efficiently.

### Setup for RStudio:

1. **GitHub Account**: Sign up for GitHub Copilot (free for students/eligible users)
2. **RStudio Configuration**: Enable GitHub Copilot in RStudio through:
   - `Tools ‚Üí Global Options ‚Üí Copilot`
   - Sign in with your GitHub account
3. **Enable Completions**: Ensure "Show completions from GitHub Copilot" is checked

### How to Use Copilot Effectively:

**Method 1: Comment-Driven Development**
```r
# Read a SAS XPT file and convert to tibble
# Copilot will suggest: dm <- read_xpt("dm.xpt") %>% as_tibble()

# Calculate age from birthdate and reference date  
# Copilot will suggest: age <- floor(as.numeric(refdate - birthdate) / 365.25)
```

**Method 2: Function Name Auto-completion**
```r
# Start typing a function name and Copilot suggests parameters
dm %>% 
  filter(  # Copilot suggests: AGE >= 18, ARMCD == "TRT01A", etc.
```

**Method 3: Pattern Recognition**
```r
# After writing similar code, Copilot learns patterns
dm <- dm %>% mutate(AGEGR1 = case_when(
  AGE < 65 ~ "< 65",
  AGE >= 65 ~ ">= 65"  # Copilot suggests this based on pattern
))
```

### Common Copilot Prompts for Clinical Programming:

| Comment Prompt | Likely Copilot Suggestion |
|----|----|
| `# Create elderly flag for age >= 65` | `mutate(ELDERLY = ifelse(AGE >= 65, "Y", "N"))` |
| `# Read SAS transport file` | `dm <- read_xpt("dm.xpt")` |
| `# Calculate study day` | `mutate(AESTDY = as.numeric(AESTDTC - RFSTDTC) + 1)` |
| `# Convert character date to Date` | `mutate(date = ymd(date_char))` |

> **Important**: Always review and validate Copilot suggestions. Copilot accelerates coding but doesn't replace your clinical programming expertise and knowledge of CDISC standards.

------------------------------------------------------------------------

## üìù Module Summary

By completing this module, you should now be able to:

‚úÖ Install and configure R, RStudio, and envconfig  
‚úÖ Navigate the RStudio interface efficiently  
‚úÖ Load essential packages for clinical programming  
‚úÖ Use GitHub Copilot to assist with R code development  
‚úÖ Understand the basic R syntax and workflow  

### üöÄ Next Steps:
- Practice navigating RStudio with the demo exercises
- Try using GitHub Copilot with simple R commands  
- Prepare for Module 2: Data Wrangling Basics

------------------------------------------------------------------------

## ÔøΩ Key Takeaways

1. **R + RStudio** provides a powerful environment for clinical programming
2. **envconfig** helps manage your project setup and working directories  
3. **Essential packages** (dplyr, haven, tibble) are your foundation tools
4. **GitHub Copilot** can significantly speed up your coding when used thoughtfully
5. **Practice and experimentation** are key to becoming proficient in R

Ready to move on to data wrangling? Let's go to Module 2!

| Concept           | SAS Equivalent      | R Tool                    |
|-------------------|---------------------|---------------------------|
| Read XPT          | `libname in xpt`    | `haven::read_xpt()`       |
| Data manipulation | `DATA step`         | `dplyr::mutate`, `filter` |
| Export XPT        | `PROC COPY`         | `xportr_write()`          |
| Output tables     | `PROC PRINT/REPORT` | `flextable`, `gt`         |
| AI helper         | Not available       | GitHub Copilot (free)     |
